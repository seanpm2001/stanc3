  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir array-tuple-param.stan
Uncaught exception:
  
  ("Fatal error: this should never happen. Please file a bug on https://github.com/stan-dev/stanc3/issues/new and include the model that caused this issue."
   ("Internal error: Attempted to apply tuple index to a non-tuple type:"
    (t (UArray (UTuple (UReal UReal))))))

Raised at Base__Error.raise in file "src/error.ml" (inlined), line 8, characters 14-30
Called from Base__Error.raise_s in file "src/error.ml", line 9, characters 19-40
Called from Middle__Expr.Helpers.add_tuple_index in file "src/middle/Expr.ml", line 314, characters 10-203
Called from Middle__Stmt.Helpers.for_each_tuple.(fun) in file "src/middle/Stmt.ml", line 299, characters 21-73
Called from Base__List.rev_mapi.loop in file "src/list.ml", line 515, characters 30-35
Called from Base__List.mapi in file "src/list.ml" (inlined), line 520, characters 20-35
Called from Middle__Stmt.Helpers.for_each_tuple in file "src/middle/Stmt.ml", line 298, characters 8-148
Called from Stan_math_backend__Transform_Mir.trans_prog.(fun) in file "src/stan_math_backend/Transform_Mir.ml", line 562, characters 35-73
Called from Base__List.count_map in file "src/list.ml", line 387, characters 13-17
Called from Base__List.map in file "src/list.ml" (inlined), line 418, characters 15-31
Called from Stan_math_backend__Transform_Mir.trans_prog in file "src/stan_math_backend/Transform_Mir.ml", line 561, characters 4-129
Called from Dune__exe__Stanc.use_file in file "src/stanc/stanc.ml", line 293, characters 17-45
Called from Dune__exe__Stanc in file "src/stanc/stanc.ml", line 346, characters 9-16
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir simple.stan
((functions_block ()) (input_vars ())
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (DataOnly DataOnly))) (decl_id x)
      (decl_type (Sized (STuple (SReal SInt)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable x) (UTuple (UReal UInt))
      ((pattern
        (FunApp (CompilerInternal FnMakeTuple)
         (((pattern (Lit Real 3.14))
           (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly))))
          ((pattern (Lit Int 2))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta
        ((type_ (UTuple (UReal UInt))) (loc <opaque>)
         (adlevel (TupleAD (DataOnly DataOnly))))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp (CompilerInternal FnPrint)
      (((pattern
         (TupleProjection
          ((pattern (Var x))
           (meta
            ((type_ (UTuple (UReal UInt))) (loc <opaque>)
             (adlevel (TupleAD (DataOnly DataOnly))))))
          1))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))))
 (log_prob ())
 (generate_quantities
  (((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (output_vars ()) (prog_name simple_model) (prog_path simple.stan))
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir simple2.stan
((functions_block ()) (input_vars ())
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (DataOnly DataOnly))) (decl_id x)
      (decl_type
       (Sized
        (STuple
         ((SArray SReal
           ((pattern (Lit Int 2))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
          SInt))))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable x) (UTuple ((UArray UReal) UInt))
      ((pattern
        (FunApp (CompilerInternal FnMakeTuple)
         (((pattern
            (FunApp (CompilerInternal FnMakeArray)
             (((pattern (Lit Real 1.01))
               (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly))))
              ((pattern (Lit Real 3.14))
               (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
           (meta ((type_ (UArray UReal)) (loc <opaque>) (adlevel DataOnly))))
          ((pattern (Lit Int 2))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta
        ((type_ (UTuple ((UArray UReal) UInt))) (loc <opaque>)
         (adlevel (TupleAD (DataOnly DataOnly))))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp (CompilerInternal FnPrint)
      (((pattern
         (Indexed
          ((pattern
            (TupleProjection
             ((pattern (Var x))
              (meta
               ((type_ (UTuple ((UArray UReal) UInt))) (loc <opaque>)
                (adlevel (TupleAD (DataOnly DataOnly))))))
             1))
           (meta ((type_ (UArray UReal)) (loc <opaque>) (adlevel DataOnly))))
          ((Single
            ((pattern (Lit Int 2))
             (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))))
 (log_prob ())
 (generate_quantities
  (((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (output_vars ()) (prog_name simple2_model) (prog_path simple2.stan))
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir simple3.stan
((functions_block ()) (input_vars ())
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (DataOnly DataOnly))) (decl_id x)
      (decl_type
       (Sized
        (STuple
         ((SArray
           (SArray SReal
            ((pattern (Lit Int 3))
             (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
           ((pattern (Lit Int 2))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
          SInt))))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable x) (UTuple ((UArray (UArray UReal)) UInt))
      ((pattern
        (FunApp (CompilerInternal FnMakeTuple)
         (((pattern
            (FunApp (CompilerInternal FnMakeArray)
             (((pattern
                (FunApp (CompilerInternal FnMakeArray)
                 (((pattern (Lit Real 1.01))
                   (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly))))
                  ((pattern (Lit Real 3.14))
                   (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
               (meta
                ((type_ (UArray UReal)) (loc <opaque>) (adlevel DataOnly))))
              ((pattern
                (FunApp (CompilerInternal FnMakeArray)
                 (((pattern (Lit Real 1.01))
                   (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly))))
                  ((pattern (Lit Real 3.14))
                   (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
               (meta
                ((type_ (UArray UReal)) (loc <opaque>) (adlevel DataOnly))))
              ((pattern
                (FunApp (CompilerInternal FnMakeArray)
                 (((pattern (Lit Real 1.01))
                   (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly))))
                  ((pattern (Lit Real 3.14))
                   (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
               (meta
                ((type_ (UArray UReal)) (loc <opaque>) (adlevel DataOnly)))))))
           (meta
            ((type_ (UArray (UArray UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          ((pattern (Lit Int 2))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta
        ((type_ (UTuple ((UArray (UArray UReal)) UInt))) (loc <opaque>)
         (adlevel (TupleAD (DataOnly DataOnly))))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp (CompilerInternal FnPrint)
      (((pattern
         (Indexed
          ((pattern
            (TupleProjection
             ((pattern (Var x))
              (meta
               ((type_ (UTuple ((UArray (UArray UReal)) UInt)))
                (loc <opaque>) (adlevel (TupleAD (DataOnly DataOnly))))))
             1))
           (meta
            ((type_ (UArray (UArray UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          ((Single
            ((pattern (Lit Int 2))
             (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))
        (meta ((type_ (UArray UReal)) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))))
 (log_prob ())
 (generate_quantities
  (((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (output_vars ()) (prog_name simple3_model) (prog_path simple3.stan))
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir tuple-constraints-data2.stan
((functions_block ())
 (input_vars ((y (STuple (SInt (STuple (SReal SInt)))))))
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (DataOnly (TupleAD (DataOnly DataOnly)))))
      (decl_id y) (decl_type (Sized (STuple (SInt (STuple (SReal SInt))))))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LTupleProjection (LVariable y) 0) UInt
      ((pattern
        (Indexed
         ((pattern
           (FunApp (CompilerInternal FnReadData)
            (((pattern (Lit Str y.0))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
          (meta ((type_ (UArray UInt)) (loc <opaque>) (adlevel DataOnly))))
         ((Single
           ((pattern (Lit Int 1))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Assignment (LTupleProjection (LVariable y.1) 0) UReal
      ((pattern
        (Indexed
         ((pattern
           (FunApp (CompilerInternal FnReadData)
            (((pattern (Lit Str y.1.0))
              (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
          (meta ((type_ (UArray UReal)) (loc <opaque>) (adlevel DataOnly))))
         ((Single
           ((pattern (Lit Int 1))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))
       (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Assignment (LTupleProjection (LVariable y.1) 1) UInt
      ((pattern
        (Indexed
         ((pattern
           (FunApp (CompilerInternal FnReadData)
            (((pattern (Lit Str y.1.1))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
          (meta ((type_ (UArray UInt)) (loc <opaque>) (adlevel DataOnly))))
         ((Single
           ((pattern (Lit Int 1))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnCheck
        (trans
         (Lower
          ((pattern (Lit Int 0))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
        (var_name y.1)
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var y))
             (meta
              ((type_ (UTuple (UInt (UTuple (UReal UInt))))) (loc <opaque>)
               (adlevel (TupleAD (DataOnly (TupleAD (DataOnly DataOnly))))))))
            1))
          (meta
           ((type_ UInt) (loc <opaque>)
            (adlevel (TupleAD (DataOnly (TupleAD (DataOnly DataOnly)))))))))))
      (((pattern (Lit Int 0))
        (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnCheck
        (trans
         (Lower
          ((pattern (Lit Int 1))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
        (var_name y.2.1)
        (var
         ((pattern
           (TupleProjection
            ((pattern
              (TupleProjection
               ((pattern (Var y))
                (meta
                 ((type_ (UTuple (UInt (UTuple (UReal UInt)))))
                  (loc <opaque>)
                  (adlevel
                   (TupleAD (DataOnly (TupleAD (DataOnly DataOnly))))))))
               2))
             (meta
              ((type_ (UTuple (UReal UInt))) (loc <opaque>)
               (adlevel (TupleAD (DataOnly (TupleAD (DataOnly DataOnly))))))))
            1))
          (meta
           ((type_ UReal) (loc <opaque>)
            (adlevel (TupleAD (DataOnly (TupleAD (DataOnly DataOnly)))))))))))
      (((pattern (Lit Int 1))
        (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnCheck
        (trans
         (Upper
          ((pattern (Lit Int 2))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
        (var_name y.2.2)
        (var
         ((pattern
           (TupleProjection
            ((pattern
              (TupleProjection
               ((pattern (Var y))
                (meta
                 ((type_ (UTuple (UInt (UTuple (UReal UInt)))))
                  (loc <opaque>)
                  (adlevel
                   (TupleAD (DataOnly (TupleAD (DataOnly DataOnly))))))))
               2))
             (meta
              ((type_ (UTuple (UReal UInt))) (loc <opaque>)
               (adlevel (TupleAD (DataOnly (TupleAD (DataOnly DataOnly))))))))
            2))
          (meta
           ((type_ UInt) (loc <opaque>)
            (adlevel (TupleAD (DataOnly (TupleAD (DataOnly DataOnly)))))))))))
      (((pattern (Lit Int 2))
        (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))))
 (log_prob ())
 (generate_quantities
  (((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (output_vars ()) (prog_name tuple_constraints_data2_model)
 (prog_path tuple-constraints-data2.stan))
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir tuple-constraints-params.stan
((functions_block ()) (input_vars ())
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (log_prob
  (((pattern
     (Decl (decl_adtype (TupleAD (AutoDiffable AutoDiffable))) (decl_id ps)
      (decl_type (Sized (STuple (SReal SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable ps) (UTuple (UReal UReal))
      ((pattern
        (FunApp (CompilerInternal FnMakeTuple)
         (((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam
               (constrain
                (Lower
                 ((pattern (Lit Int 0))
                  (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
               (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))
          ((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam
               (constrain
                (Lower
                 ((pattern (Lit Int 0))
                  (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
               (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable)))))))
       (meta
        ((type_ (UTuple (UReal UReal))) (loc <opaque>)
         (adlevel (TupleAD (AutoDiffable AutoDiffable))))))))
    (meta <opaque>))))
 (generate_quantities
  (((pattern
     (Decl (decl_adtype (TupleAD (DataOnly DataOnly))) (decl_id ps)
      (decl_type (Sized (STuple (SReal SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable ps) (UTuple (UReal UReal))
      ((pattern
        (FunApp (CompilerInternal FnMakeTuple)
         (((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam
               (constrain
                (Lower
                 ((pattern (Lit Int 0))
                  (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
               (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))
          ((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam
               (constrain
                (Lower
                 ((pattern (Lit Int 0))
                  (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
               (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable)))))))
       (meta
        ((type_ (UTuple (UReal UReal))) (loc <opaque>)
         (adlevel (TupleAD (AutoDiffable AutoDiffable))))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt ())
        (var
         ((pattern
           (TupleProjection
            ((pattern
              (Indexed
               ((pattern (Var ps))
                (meta
                 ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                  (adlevel DataOnly))))
               ()))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            1))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern
            (Indexed
             ((pattern (Var ps))
              (meta
               ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                (adlevel DataOnly))))
             ()))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          1))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt ())
        (var
         ((pattern
           (TupleProjection
            ((pattern
              (Indexed
               ((pattern (Var ps))
                (meta
                 ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                  (adlevel DataOnly))))
               ()))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            2))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern
            (Indexed
             ((pattern (Var ps))
              (meta
               ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                (adlevel DataOnly))))
             ()))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          2))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (AutoDiffable AutoDiffable))) (decl_id ps)
      (decl_type (Sized (STuple (SReal SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LIndexed (LTupleProjection (LVariable ps) 0) ()) UReal
      ((pattern (FunApp (CompilerInternal FnReadDataSerializer) ()))
       (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))))
    (meta <opaque>))
   ((pattern
     (Assignment (LIndexed (LTupleProjection (LVariable ps) 1) ()) UReal
      ((pattern (FunApp (CompilerInternal FnReadDataSerializer) ()))
       (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam
        (unconstrain_opt
         ((Lower
           ((pattern (Lit Int 0))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var ps))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            1))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern (Var ps))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          1))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam
        (unconstrain_opt
         ((Lower
           ((pattern (Lit Int 0))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var ps))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            2))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern (Var ps))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          2))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))))
 (output_vars
  ((ps
    ((out_unconstrained_st (STuple (SReal SReal)))
     (out_constrained_st (STuple (SReal SReal))) (out_block Parameters)
     (out_trans
      (TupleTransformation
       ((Lower
         ((pattern (Lit Int 0))
          (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
        (Lower
         ((pattern (Lit Int 0))
          (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))))))
 (prog_name tuple_constraints_params_model)
 (prog_path tuple-constraints-params.stan))
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir tuple-constraints.stan
((functions_block ()) (input_vars ((y (STuple (SInt SReal)))))
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (DataOnly DataOnly))) (decl_id y)
      (decl_type (Sized (STuple (SInt SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LTupleProjection (LVariable y) 0) UInt
      ((pattern
        (Indexed
         ((pattern
           (FunApp (CompilerInternal FnReadData)
            (((pattern (Lit Str y.0))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
          (meta ((type_ (UArray UInt)) (loc <opaque>) (adlevel DataOnly))))
         ((Single
           ((pattern (Lit Int 1))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Assignment (LTupleProjection (LVariable y) 1) UReal
      ((pattern
        (Indexed
         ((pattern
           (FunApp (CompilerInternal FnReadData)
            (((pattern (Lit Str y.1))
              (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
          (meta ((type_ (UArray UReal)) (loc <opaque>) (adlevel DataOnly))))
         ((Single
           ((pattern (Lit Int 1))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))
       (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnCheck
        (trans
         (Lower
          ((pattern (Lit Int 0))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
        (var_name y.1)
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var y))
             (meta
              ((type_ (UTuple (UInt UReal))) (loc <opaque>)
               (adlevel (TupleAD (DataOnly DataOnly))))))
            1))
          (meta
           ((type_ UInt) (loc <opaque>)
            (adlevel (TupleAD (DataOnly DataOnly)))))))))
      (((pattern (Lit Int 0))
        (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnCheck
        (trans
         (Lower
          ((pattern (Lit Int 1))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
        (var_name y.2)
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var y))
             (meta
              ((type_ (UTuple (UInt UReal))) (loc <opaque>)
               (adlevel (TupleAD (DataOnly DataOnly))))))
            2))
          (meta
           ((type_ UReal) (loc <opaque>)
            (adlevel (TupleAD (DataOnly DataOnly)))))))))
      (((pattern (Lit Int 1))
        (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))))
 (log_prob ())
 (generate_quantities
  (((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (output_vars ()) (prog_name tuple_constraints_model)
 (prog_path tuple-constraints.stan))
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir tuple-dataonly.stan
((functions_block
  (((fdrt (UReal)) (fdname foo) (fdsuffix FnPlain)
    (fdargs ((DataOnly x (UTuple (UReal UReal)))))
    (fdbody
     (((pattern
        (Block
         (((pattern
            (Return
             (((pattern
                (TupleProjection
                 ((pattern (Var x))
                  (meta
                   ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                    (adlevel (TupleAD (DataOnly DataOnly))))))
                 1))
               (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
           (meta <opaque>)))))
       (meta <opaque>))))
    (fdloc <opaque>))))
 (input_vars ((d (STuple (SReal SReal)))))
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (DataOnly DataOnly))) (decl_id d)
      (decl_type (Sized (STuple (SReal SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LTupleProjection (LVariable d) 0) UReal
      ((pattern
        (Indexed
         ((pattern
           (FunApp (CompilerInternal FnReadData)
            (((pattern (Lit Str d.0))
              (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
          (meta ((type_ (UArray UReal)) (loc <opaque>) (adlevel DataOnly))))
         ((Single
           ((pattern (Lit Int 1))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))
       (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Assignment (LTupleProjection (LVariable d) 1) UReal
      ((pattern
        (Indexed
         ((pattern
           (FunApp (CompilerInternal FnReadData)
            (((pattern (Lit Str d.1))
              (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
          (meta ((type_ (UArray UReal)) (loc <opaque>) (adlevel DataOnly))))
         ((Single
           ((pattern (Lit Int 1))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))
       (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (log_prob
  (((pattern
     (Block
      (((pattern
         (TargetPE
          ((pattern
            (FunApp (UserDefined foo FnPlain)
             (((pattern (Var d))
               (meta
                ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                 (adlevel (TupleAD (DataOnly DataOnly)))))))))
           (meta
            ((type_ UReal) (loc <opaque>)
             (adlevel (TupleAD (DataOnly DataOnly))))))))
        (meta <opaque>)))))
    (meta <opaque>))))
 (generate_quantities
  (((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (output_vars ()) (prog_name tuple_dataonly_model)
 (prog_path tuple-dataonly.stan))
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir tuple-full.stan
((functions_block ())
 (input_vars
  ((ds
    (STuple
     (SInt
      (STuple
       ((SArray SInt
         ((pattern (Lit Int 2))
          (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
        (SArray SInt
         ((pattern (Lit Int 2))
          (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))))))
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (DataOnly (TupleAD (DataOnly DataOnly)))))
      (decl_id ds)
      (decl_type
       (Sized
        (STuple
         (SInt
          (STuple
           ((SArray SInt
             ((pattern (Lit Int 2))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
            (SArray SInt
             ((pattern (Lit Int 2))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))))))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LTupleProjection (LVariable ds) 0) UInt
      ((pattern
        (Indexed
         ((pattern
           (FunApp (CompilerInternal FnReadData)
            (((pattern (Lit Str ds.0))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
          (meta ((type_ (UArray UInt)) (loc <opaque>) (adlevel DataOnly))))
         ((Single
           ((pattern (Lit Int 1))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable ds.1.0) (UArray UInt)
      ((pattern
        (FunApp (CompilerInternal FnReadData)
         (((pattern (Lit Str ds.1.0))
           (meta ((type_ (UArray UInt)) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ (UArray UInt)) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable ds.1.1) (UArray UInt)
      ((pattern
        (FunApp (CompilerInternal FnReadData)
         (((pattern (Lit Str ds.1.1))
           (meta ((type_ (UArray UInt)) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ (UArray UInt)) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnCheck
        (trans
         (Lower
          ((pattern (Lit Int 0))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
        (var_name ds.1)
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var ds))
             (meta
              ((type_ (UTuple (UInt (UTuple ((UArray UInt) (UArray UInt))))))
               (loc <opaque>)
               (adlevel (TupleAD (DataOnly (TupleAD (DataOnly DataOnly))))))))
            1))
          (meta
           ((type_ UInt) (loc <opaque>)
            (adlevel (TupleAD (DataOnly (TupleAD (DataOnly DataOnly)))))))))))
      (((pattern (Lit Int 0))
        (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnCheck
        (trans
         (Upper
          ((pattern (Lit Int 1))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
        (var_name ds.1)
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var ds))
             (meta
              ((type_ (UTuple (UInt (UTuple ((UArray UInt) (UArray UInt))))))
               (loc <opaque>)
               (adlevel (TupleAD (DataOnly (TupleAD (DataOnly DataOnly))))))))
            1))
          (meta
           ((type_ UInt) (loc <opaque>)
            (adlevel (TupleAD (DataOnly (TupleAD (DataOnly DataOnly)))))))))))
      (((pattern (Lit Int 1))
        (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))))
 (log_prob
  (((pattern
     (Decl (decl_adtype (TupleAD (AutoDiffable AutoDiffable))) (decl_id ps)
      (decl_type (Sized (STuple (SReal SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable ps) (UTuple (UReal UReal))
      ((pattern
        (FunApp (CompilerInternal FnMakeTuple)
         (((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam
               (constrain
                (Lower
                 ((pattern (Lit Int 0))
                  (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
               (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))
          ((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam
               (constrain
                (Lower
                 ((pattern (Lit Int 0))
                  (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
               (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable)))))))
       (meta
        ((type_ (UTuple (UReal UReal))) (loc <opaque>)
         (adlevel (TupleAD (AutoDiffable AutoDiffable))))))))
    (meta <opaque>))
   ((pattern
     (Block
      (((pattern
         (TargetPE
          ((pattern
            (FunApp (StanLib bernoulli_lpmf (FnLpdf true) SoA)
             (((pattern
                (TupleProjection
                 ((pattern (Var ds))
                  (meta
                   ((type_
                     (UTuple (UInt (UTuple ((UArray UInt) (UArray UInt))))))
                    (loc <opaque>)
                    (adlevel
                     (TupleAD (DataOnly (TupleAD (DataOnly DataOnly))))))))
                 1))
               (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
              ((pattern
                (TupleProjection
                 ((pattern (Var ps))
                  (meta
                   ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                    (adlevel (TupleAD (AutoDiffable AutoDiffable))))))
                 1))
               (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable)))))))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))))
        (meta <opaque>))
       ((pattern
         (TargetPE
          ((pattern
            (FunApp (StanLib Plus__ FnPlain SoA)
             (((pattern
                (FunApp (StanLib Plus__ FnPlain SoA)
                 (((pattern
                    (TupleProjection
                     ((pattern (Var ps))
                      (meta
                       ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                        (adlevel (TupleAD (AutoDiffable AutoDiffable))))))
                     2))
                   (meta
                    ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))
                  ((pattern
                    (Promotion
                     ((pattern
                       (Indexed
                        ((pattern
                          (TupleProjection
                           ((pattern
                             (TupleProjection
                              ((pattern (Var ds))
                               (meta
                                ((type_
                                  (UTuple
                                   (UInt
                                    (UTuple ((UArray UInt) (UArray UInt))))))
                                 (loc <opaque>)
                                 (adlevel
                                  (TupleAD
                                   (DataOnly (TupleAD (DataOnly DataOnly))))))))
                              2))
                            (meta
                             ((type_ (UTuple ((UArray UInt) (UArray UInt))))
                              (loc <opaque>)
                              (adlevel (TupleAD (DataOnly DataOnly))))))
                           1))
                         (meta
                          ((type_ (UArray UInt)) (loc <opaque>)
                           (adlevel DataOnly))))
                        ((Single
                          ((pattern (Lit Int 1))
                           (meta
                            ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))
                      (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
                     UReal DataOnly))
                   (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
               (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))
              ((pattern
                (Promotion
                 ((pattern
                   (Indexed
                    ((pattern
                      (TupleProjection
                       ((pattern
                         (TupleProjection
                          ((pattern (Var ds))
                           (meta
                            ((type_
                              (UTuple
                               (UInt (UTuple ((UArray UInt) (UArray UInt))))))
                             (loc <opaque>)
                             (adlevel
                              (TupleAD
                               (DataOnly (TupleAD (DataOnly DataOnly))))))))
                          2))
                        (meta
                         ((type_ (UTuple ((UArray UInt) (UArray UInt))))
                          (loc <opaque>)
                          (adlevel (TupleAD (DataOnly DataOnly))))))
                       2))
                     (meta
                      ((type_ (UArray UInt)) (loc <opaque>)
                       (adlevel DataOnly))))
                    ((Single
                      ((pattern (Lit Int 2))
                       (meta
                        ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))
                  (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
                 UReal DataOnly))
               (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))))
        (meta <opaque>)))))
    (meta <opaque>))))
 (generate_quantities
  (((pattern
     (Decl (decl_adtype (TupleAD (DataOnly DataOnly))) (decl_id ps)
      (decl_type (Sized (STuple (SReal SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable ps) (UTuple (UReal UReal))
      ((pattern
        (FunApp (CompilerInternal FnMakeTuple)
         (((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam
               (constrain
                (Lower
                 ((pattern (Lit Int 0))
                  (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
               (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))
          ((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam
               (constrain
                (Lower
                 ((pattern (Lit Int 0))
                  (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
               (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable)))))))
       (meta
        ((type_ (UTuple (UReal UReal))) (loc <opaque>)
         (adlevel (TupleAD (AutoDiffable AutoDiffable))))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt ())
        (var
         ((pattern
           (TupleProjection
            ((pattern
              (Indexed
               ((pattern (Var ps))
                (meta
                 ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                  (adlevel DataOnly))))
               ()))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            1))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern
            (Indexed
             ((pattern (Var ps))
              (meta
               ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                (adlevel DataOnly))))
             ()))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          1))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt ())
        (var
         ((pattern
           (TupleProjection
            ((pattern
              (Indexed
               ((pattern (Var ps))
                (meta
                 ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                  (adlevel DataOnly))))
               ()))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            2))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern
            (Indexed
             ((pattern (Var ps))
              (meta
               ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                (adlevel DataOnly))))
             ()))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          2))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (AutoDiffable AutoDiffable))) (decl_id ps)
      (decl_type (Sized (STuple (SReal SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LIndexed (LTupleProjection (LVariable ps) 0) ()) UReal
      ((pattern (FunApp (CompilerInternal FnReadDataSerializer) ()))
       (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))))
    (meta <opaque>))
   ((pattern
     (Assignment (LIndexed (LTupleProjection (LVariable ps) 1) ()) UReal
      ((pattern (FunApp (CompilerInternal FnReadDataSerializer) ()))
       (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam
        (unconstrain_opt
         ((Lower
           ((pattern (Lit Int 0))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var ps))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            1))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern (Var ps))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          1))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam
        (unconstrain_opt
         ((Lower
           ((pattern (Lit Int 0))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var ps))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            2))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern (Var ps))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          2))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))))
 (output_vars
  ((ps
    ((out_unconstrained_st (STuple (SReal SReal)))
     (out_constrained_st (STuple (SReal SReal))) (out_block Parameters)
     (out_trans
      (TupleTransformation
       ((Lower
         ((pattern (Lit Int 0))
          (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
        (Lower
         ((pattern (Lit Int 0))
          (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))))))
 (prog_name tuple_full_model) (prog_path tuple-full.stan))
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir tuple-ix-assign.stan
((functions_block ()) (input_vars ())
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (DataOnly DataOnly))) (decl_id x)
      (decl_type (Sized (STuple (SInt SInt)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LTupleProjection (LVariable x) 1) UInt
      ((pattern (Lit Int 5))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (log_prob ())
 (generate_quantities
  (((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (output_vars ()) (prog_name tuple_ix_assign_model)
 (prog_path tuple-ix-assign.stan))
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir tuple-ix-assign2.stan
((functions_block ()) (input_vars ())
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (DataOnly DataOnly))) (decl_id x)
      (decl_type
       (Sized
        (STuple
         ((SArray SInt
           ((pattern (Lit Int 10))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
          SInt))))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment
      (LIndexed (LTupleProjection (LVariable x) 1)
       ((Single
         ((pattern (Lit Int 1))
          (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
      (UArray UInt)
      ((pattern (Lit Int 5))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (log_prob ())
 (generate_quantities
  (((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (output_vars ()) (prog_name tuple_ix_assign2_model)
 (prog_path tuple-ix-assign2.stan))
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir tuple-ix-assign3.stan
((functions_block ()) (input_vars ())
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (DataOnly DataOnly))) (decl_id x)
      (decl_type
       (Sized
        (SArray (STuple (SInt SInt))
         ((pattern (Lit Int 10))
          (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment
      (LTupleProjection
       (LIndexed (LVariable x)
        ((Single
          ((pattern (Lit Int 1))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       1)
      UInt
      ((pattern (Lit Int 5))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (log_prob ())
 (generate_quantities
  (((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (output_vars ()) (prog_name tuple_ix_assign3_model)
 (prog_path tuple-ix-assign3.stan))
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir tuple-ix-assign4.stan
((functions_block ()) (input_vars ())
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD ((TupleAD (DataOnly DataOnly)) DataOnly)))
      (decl_id x)
      (decl_type
       (Sized
        (STuple
         ((SArray
           (STuple
            (SInt
             (SArray SReal
              ((pattern (Lit Int 100))
               (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
           ((pattern (Lit Int 10))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
          SInt))))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment
      (LTupleProjection
       (LIndexed (LTupleProjection (LVariable x) 1)
        ((Single
          ((pattern (Lit Int 1))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       1)
      UInt
      ((pattern (Lit Int 5))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (log_prob ())
 (generate_quantities
  (((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (output_vars ()) (prog_name tuple_ix_assign4_model)
 (prog_path tuple-ix-assign4.stan))
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir tuple-nested-param.stan
((functions_block ()) (input_vars ())
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (log_prob
  (((pattern
     (Decl (decl_adtype (TupleAD (AutoDiffable AutoDiffable))) (decl_id ps)
      (decl_type (Sized (STuple (SReal SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable ps) (UTuple (UReal UReal))
      ((pattern
        (FunApp (CompilerInternal FnMakeTuple)
         (((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam (constrain Identity) (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))
          ((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam (constrain Identity) (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable)))))))
       (meta
        ((type_ (UTuple (UReal UReal))) (loc <opaque>)
         (adlevel (TupleAD (AutoDiffable AutoDiffable))))))))
    (meta <opaque>))
   ((pattern
     (Decl
      (decl_adtype
       (TupleAD (AutoDiffable (TupleAD (AutoDiffable AutoDiffable)))))
      (decl_id ps2)
      (decl_type
       (Sized
        (STuple
         (SReal
          (STuple
           (SReal
            (SMatrix AoS
             ((pattern (Lit Int 10))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Lit Int 10))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))))))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable ps2) (UTuple (UReal (UTuple (UReal UMatrix))))
      ((pattern
        (FunApp (CompilerInternal FnMakeTuple)
         (((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam (constrain Identity) (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))
          ((pattern
            (FunApp (CompilerInternal FnMakeTuple)
             (((pattern
                (FunApp
                 (CompilerInternal
                  (FnReadParam (constrain Identity) (dims ())
                   (mem_pattern AoS)))
                 ()))
               (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))
              ((pattern
                (FunApp
                 (CompilerInternal
                  (FnReadParam (constrain Identity)
                   (dims
                    (((pattern (Lit Int 10))
                      (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
                     ((pattern (Lit Int 10))
                      (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
                   (mem_pattern AoS)))
                 ()))
               (meta ((type_ UMatrix) (loc <opaque>) (adlevel AutoDiffable)))))))
           (meta
            ((type_ (UTuple (UReal UMatrix))) (loc <opaque>)
             (adlevel (TupleAD (AutoDiffable AutoDiffable)))))))))
       (meta
        ((type_ (UTuple (UReal (UTuple (UReal UMatrix))))) (loc <opaque>)
         (adlevel
          (TupleAD (AutoDiffable (TupleAD (AutoDiffable AutoDiffable))))))))))
    (meta <opaque>))))
 (generate_quantities
  (((pattern
     (Decl (decl_adtype (TupleAD (DataOnly DataOnly))) (decl_id ps)
      (decl_type (Sized (STuple (SReal SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable ps) (UTuple (UReal UReal))
      ((pattern
        (FunApp (CompilerInternal FnMakeTuple)
         (((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam (constrain Identity) (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))
          ((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam (constrain Identity) (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable)))))))
       (meta
        ((type_ (UTuple (UReal UReal))) (loc <opaque>)
         (adlevel (TupleAD (AutoDiffable AutoDiffable))))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (DataOnly (TupleAD (DataOnly DataOnly)))))
      (decl_id ps2)
      (decl_type
       (Sized
        (STuple
         (SReal
          (STuple
           (SReal
            (SMatrix AoS
             ((pattern (Lit Int 10))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Lit Int 10))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))))))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable ps2) (UTuple (UReal (UTuple (UReal UMatrix))))
      ((pattern
        (FunApp (CompilerInternal FnMakeTuple)
         (((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam (constrain Identity) (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))
          ((pattern
            (FunApp (CompilerInternal FnMakeTuple)
             (((pattern
                (FunApp
                 (CompilerInternal
                  (FnReadParam (constrain Identity) (dims ())
                   (mem_pattern AoS)))
                 ()))
               (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))
              ((pattern
                (FunApp
                 (CompilerInternal
                  (FnReadParam (constrain Identity)
                   (dims
                    (((pattern (Lit Int 10))
                      (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
                     ((pattern (Lit Int 10))
                      (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
                   (mem_pattern AoS)))
                 ()))
               (meta ((type_ UMatrix) (loc <opaque>) (adlevel AutoDiffable)))))))
           (meta
            ((type_ (UTuple (UReal UMatrix))) (loc <opaque>)
             (adlevel (TupleAD (AutoDiffable AutoDiffable)))))))))
       (meta
        ((type_ (UTuple (UReal (UTuple (UReal UMatrix))))) (loc <opaque>)
         (adlevel
          (TupleAD (AutoDiffable (TupleAD (AutoDiffable AutoDiffable))))))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt ())
        (var
         ((pattern
           (TupleProjection
            ((pattern
              (Indexed
               ((pattern (Var ps))
                (meta
                 ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                  (adlevel DataOnly))))
               ()))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            1))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern
            (Indexed
             ((pattern (Var ps))
              (meta
               ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                (adlevel DataOnly))))
             ()))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          1))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt ())
        (var
         ((pattern
           (TupleProjection
            ((pattern
              (Indexed
               ((pattern (Var ps))
                (meta
                 ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                  (adlevel DataOnly))))
               ()))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            2))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern
            (Indexed
             ((pattern (Var ps))
              (meta
               ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                (adlevel DataOnly))))
             ()))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          2))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt ())
        (var
         ((pattern
           (TupleProjection
            ((pattern
              (Indexed
               ((pattern (Var ps2))
                (meta
                 ((type_ (UTuple (UReal (UTuple (UReal UMatrix)))))
                  (loc <opaque>) (adlevel DataOnly))))
               ()))
             (meta
              ((type_ (UTuple (UReal (UTuple (UReal UMatrix)))))
               (loc <opaque>) (adlevel DataOnly))))
            1))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern
            (Indexed
             ((pattern (Var ps2))
              (meta
               ((type_ (UTuple (UReal (UTuple (UReal UMatrix)))))
                (loc <opaque>) (adlevel DataOnly))))
             ()))
           (meta
            ((type_ (UTuple (UReal (UTuple (UReal UMatrix))))) (loc <opaque>)
             (adlevel DataOnly))))
          1))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt ())
        (var
         ((pattern
           (TupleProjection
            ((pattern
              (TupleProjection
               ((pattern
                 (Indexed
                  ((pattern (Var ps2))
                   (meta
                    ((type_ (UTuple (UReal (UTuple (UReal UMatrix)))))
                     (loc <opaque>) (adlevel DataOnly))))
                  ()))
                (meta
                 ((type_ (UTuple (UReal (UTuple (UReal UMatrix)))))
                  (loc <opaque>) (adlevel DataOnly))))
               2))
             (meta
              ((type_ (UTuple (UReal UMatrix))) (loc <opaque>)
               (adlevel DataOnly))))
            1))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern
            (TupleProjection
             ((pattern
               (Indexed
                ((pattern (Var ps2))
                 (meta
                  ((type_ (UTuple (UReal (UTuple (UReal UMatrix)))))
                   (loc <opaque>) (adlevel DataOnly))))
                ()))
              (meta
               ((type_ (UTuple (UReal (UTuple (UReal UMatrix)))))
                (loc <opaque>) (adlevel DataOnly))))
             2))
           (meta
            ((type_ (UTuple (UReal UMatrix))) (loc <opaque>)
             (adlevel DataOnly))))
          1))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (For (loopvar sym1__)
      (lower
       ((pattern (Lit Int 1))
        (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
      (upper
       ((pattern (Lit Int 10))
        (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
      (body
       ((pattern
         (Block
          (((pattern
             (For (loopvar sym2__)
              (lower
               ((pattern (Lit Int 1))
                (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
              (upper
               ((pattern (Lit Int 10))
                (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
              (body
               ((pattern
                 (Block
                  (((pattern
                     (NRFunApp
                      (CompilerInternal
                       (FnWriteParam (unconstrain_opt ())
                        (var
                         ((pattern
                           (Indexed
                            ((pattern
                              (TupleProjection
                               ((pattern
                                 (TupleProjection
                                  ((pattern
                                    (Indexed
                                     ((pattern (Var ps2))
                                      (meta
                                       ((type_
                                         (UTuple
                                          (UReal (UTuple (UReal UMatrix)))))
                                        (loc <opaque>) (adlevel DataOnly))))
                                     ()))
                                   (meta
                                    ((type_
                                      (UTuple
                                       (UReal (UTuple (UReal UMatrix)))))
                                     (loc <opaque>) (adlevel DataOnly))))
                                  2))
                                (meta
                                 ((type_ (UTuple (UReal UMatrix)))
                                  (loc <opaque>) (adlevel DataOnly))))
                               2))
                             (meta
                              ((type_ UMatrix) (loc <opaque>)
                               (adlevel DataOnly))))
                            ((Single
                              ((pattern (Var sym2__))
                               (meta
                                ((type_ UInt) (loc <opaque>)
                                 (adlevel DataOnly)))))
                             (Single
                              ((pattern (Var sym1__))
                               (meta
                                ((type_ UInt) (loc <opaque>)
                                 (adlevel DataOnly))))))))
                          (meta
                           ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
                      (((pattern
                         (Indexed
                          ((pattern
                            (TupleProjection
                             ((pattern
                               (TupleProjection
                                ((pattern
                                  (Indexed
                                   ((pattern (Var ps2))
                                    (meta
                                     ((type_
                                       (UTuple
                                        (UReal (UTuple (UReal UMatrix)))))
                                      (loc <opaque>) (adlevel DataOnly))))
                                   ()))
                                 (meta
                                  ((type_
                                    (UTuple (UReal (UTuple (UReal UMatrix)))))
                                   (loc <opaque>) (adlevel DataOnly))))
                                2))
                              (meta
                               ((type_ (UTuple (UReal UMatrix)))
                                (loc <opaque>) (adlevel DataOnly))))
                             2))
                           (meta
                            ((type_ UMatrix) (loc <opaque>)
                             (adlevel DataOnly))))
                          ((Single
                            ((pattern (Var sym2__))
                             (meta
                              ((type_ UInt) (loc <opaque>)
                               (adlevel DataOnly)))))
                           (Single
                            ((pattern (Var sym1__))
                             (meta
                              ((type_ UInt) (loc <opaque>)
                               (adlevel DataOnly))))))))
                        (meta
                         ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
                    (meta <opaque>)))))
                (meta <opaque>)))))
            (meta <opaque>)))))
        (meta <opaque>)))))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (AutoDiffable AutoDiffable))) (decl_id ps)
      (decl_type (Sized (STuple (SReal SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LIndexed (LTupleProjection (LVariable ps) 0) ()) UReal
      ((pattern (FunApp (CompilerInternal FnReadDataSerializer) ()))
       (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))))
    (meta <opaque>))
   ((pattern
     (Assignment (LIndexed (LTupleProjection (LVariable ps) 1) ()) UReal
      ((pattern (FunApp (CompilerInternal FnReadDataSerializer) ()))
       (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt (Identity))
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var ps))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            1))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern (Var ps))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          1))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt (Identity))
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var ps))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            2))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern (Var ps))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          2))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (Decl
      (decl_adtype
       (TupleAD (AutoDiffable (TupleAD (AutoDiffable AutoDiffable)))))
      (decl_id ps2)
      (decl_type
       (Sized
        (STuple
         (SReal
          (STuple
           (SReal
            (SMatrix AoS
             ((pattern (Lit Int 10))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Lit Int 10))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))))))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LIndexed (LTupleProjection (LVariable ps2) 0) ()) UReal
      ((pattern (FunApp (CompilerInternal FnReadDataSerializer) ()))
       (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))))
    (meta <opaque>))
   ((pattern
     (Assignment
      (LIndexed (LTupleProjection (LTupleProjection (LVariable ps2) 1) 0) ())
      UReal
      ((pattern (FunApp (CompilerInternal FnReadDataSerializer) ()))
       (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))))
    (meta <opaque>))
   ((pattern
     (For (loopvar sym1__)
      (lower
       ((pattern (Lit Int 1))
        (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
      (upper
       ((pattern (Lit Int 10))
        (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
      (body
       ((pattern
         (Block
          (((pattern
             (For (loopvar sym2__)
              (lower
               ((pattern (Lit Int 1))
                (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
              (upper
               ((pattern (Lit Int 10))
                (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
              (body
               ((pattern
                 (Block
                  (((pattern
                     (Assignment
                      (LIndexed
                       (LTupleProjection (LTupleProjection (LVariable ps2) 1)
                        1)
                       ((Single
                         ((pattern (Var sym2__))
                          (meta
                           ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))
                        (Single
                         ((pattern (Var sym1__))
                          (meta
                           ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
                      UMatrix
                      ((pattern
                        (FunApp (CompilerInternal FnReadDataSerializer)
                         (((pattern (Lit Int 10))
                           (meta
                            ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
                          ((pattern (Lit Int 10))
                           (meta
                            ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
                       (meta
                        ((type_ UMatrix) (loc <opaque>)
                         (adlevel AutoDiffable))))))
                    (meta <opaque>)))))
                (meta <opaque>)))))
            (meta <opaque>)))))
        (meta <opaque>)))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt (Identity))
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var ps2))
             (meta
              ((type_ (UTuple (UReal (UTuple (UReal UMatrix)))))
               (loc <opaque>) (adlevel DataOnly))))
            1))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern (Var ps2))
           (meta
            ((type_ (UTuple (UReal (UTuple (UReal UMatrix))))) (loc <opaque>)
             (adlevel DataOnly))))
          1))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt (Identity))
        (var
         ((pattern
           (TupleProjection
            ((pattern
              (TupleProjection
               ((pattern (Var ps2))
                (meta
                 ((type_ (UTuple (UReal (UTuple (UReal UMatrix)))))
                  (loc <opaque>) (adlevel DataOnly))))
               2))
             (meta
              ((type_ (UTuple (UReal UMatrix))) (loc <opaque>)
               (adlevel DataOnly))))
            1))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern
            (TupleProjection
             ((pattern (Var ps2))
              (meta
               ((type_ (UTuple (UReal (UTuple (UReal UMatrix)))))
                (loc <opaque>) (adlevel DataOnly))))
             2))
           (meta
            ((type_ (UTuple (UReal UMatrix))) (loc <opaque>)
             (adlevel DataOnly))))
          1))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt (Identity))
        (var
         ((pattern
           (TupleProjection
            ((pattern
              (TupleProjection
               ((pattern (Var ps2))
                (meta
                 ((type_ (UTuple (UReal (UTuple (UReal UMatrix)))))
                  (loc <opaque>) (adlevel DataOnly))))
               2))
             (meta
              ((type_ (UTuple (UReal UMatrix))) (loc <opaque>)
               (adlevel DataOnly))))
            2))
          (meta ((type_ UMatrix) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern
            (TupleProjection
             ((pattern (Var ps2))
              (meta
               ((type_ (UTuple (UReal (UTuple (UReal UMatrix)))))
                (loc <opaque>) (adlevel DataOnly))))
             2))
           (meta
            ((type_ (UTuple (UReal UMatrix))) (loc <opaque>)
             (adlevel DataOnly))))
          2))
        (meta ((type_ UMatrix) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))))
 (output_vars
  ((ps
    ((out_unconstrained_st (STuple (SReal SReal)))
     (out_constrained_st (STuple (SReal SReal))) (out_block Parameters)
     (out_trans (TupleTransformation (Identity Identity)))))
   (ps2
    ((out_unconstrained_st
      (STuple
       (SReal
        (STuple
         (SReal
          (SMatrix AoS
           ((pattern (Lit Int 10))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
           ((pattern (Lit Int 10))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))))
     (out_constrained_st
      (STuple
       (SReal
        (STuple
         (SReal
          (SMatrix AoS
           ((pattern (Lit Int 10))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
           ((pattern (Lit Int 10))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))))
     (out_block Parameters)
     (out_trans
      (TupleTransformation
       (Identity (TupleTransformation (Identity Identity)))))))))
 (prog_name tuple_nested_param_model) (prog_path tuple-nested-param.stan))
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir tuple-params.stan
((functions_block ()) (input_vars ())
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (log_prob
  (((pattern
     (Decl (decl_adtype (TupleAD (AutoDiffable AutoDiffable))) (decl_id ps)
      (decl_type (Sized (STuple (SReal SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable ps) (UTuple (UReal UReal))
      ((pattern
        (FunApp (CompilerInternal FnMakeTuple)
         (((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam (constrain Identity) (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))
          ((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam
               (constrain
                (Lower
                 ((pattern (Lit Int 0))
                  (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
               (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable)))))))
       (meta
        ((type_ (UTuple (UReal UReal))) (loc <opaque>)
         (adlevel (TupleAD (AutoDiffable AutoDiffable))))))))
    (meta <opaque>))))
 (generate_quantities
  (((pattern
     (Decl (decl_adtype (TupleAD (DataOnly DataOnly))) (decl_id ps)
      (decl_type (Sized (STuple (SReal SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable ps) (UTuple (UReal UReal))
      ((pattern
        (FunApp (CompilerInternal FnMakeTuple)
         (((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam (constrain Identity) (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))
          ((pattern
            (FunApp
             (CompilerInternal
              (FnReadParam
               (constrain
                (Lower
                 ((pattern (Lit Int 0))
                  (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
               (dims ()) (mem_pattern AoS)))
             ()))
           (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable)))))))
       (meta
        ((type_ (UTuple (UReal UReal))) (loc <opaque>)
         (adlevel (TupleAD (AutoDiffable AutoDiffable))))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt ())
        (var
         ((pattern
           (TupleProjection
            ((pattern
              (Indexed
               ((pattern (Var ps))
                (meta
                 ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                  (adlevel DataOnly))))
               ()))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            1))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern
            (Indexed
             ((pattern (Var ps))
              (meta
               ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                (adlevel DataOnly))))
             ()))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          1))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt ())
        (var
         ((pattern
           (TupleProjection
            ((pattern
              (Indexed
               ((pattern (Var ps))
                (meta
                 ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                  (adlevel DataOnly))))
               ()))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            2))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern
            (Indexed
             ((pattern (Var ps))
              (meta
               ((type_ (UTuple (UReal UReal))) (loc <opaque>)
                (adlevel DataOnly))))
             ()))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          2))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (AutoDiffable AutoDiffable))) (decl_id ps)
      (decl_type (Sized (STuple (SReal SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LIndexed (LTupleProjection (LVariable ps) 0) ()) UReal
      ((pattern (FunApp (CompilerInternal FnReadDataSerializer) ()))
       (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))))
    (meta <opaque>))
   ((pattern
     (Assignment (LIndexed (LTupleProjection (LVariable ps) 1) ()) UReal
      ((pattern (FunApp (CompilerInternal FnReadDataSerializer) ()))
       (meta ((type_ UReal) (loc <opaque>) (adlevel AutoDiffable))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam (unconstrain_opt (Identity))
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var ps))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            1))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern (Var ps))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          1))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnWriteParam
        (unconstrain_opt
         ((Lower
           ((pattern (Lit Int 0))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var ps))
             (meta
              ((type_ (UTuple (UReal UReal))) (loc <opaque>)
               (adlevel DataOnly))))
            2))
          (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
      (((pattern
         (TupleProjection
          ((pattern (Var ps))
           (meta
            ((type_ (UTuple (UReal UReal))) (loc <opaque>)
             (adlevel DataOnly))))
          2))
        (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))))
 (output_vars
  ((ps
    ((out_unconstrained_st (STuple (SReal SReal)))
     (out_constrained_st (STuple (SReal SReal))) (out_block Parameters)
     (out_trans
      (TupleTransformation
       (Identity
        (Lower
         ((pattern (Lit Int 0))
          (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))))))
 (prog_name tuple_params_model) (prog_path tuple-params.stan))
  $ ../../../../../install/default/bin/stanc -fsoa --debug-optimized-mir tuples-constraints-data.stan
((functions_block ()) (input_vars ((x (STuple (SInt SReal)))))
 (prepare_data
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Decl (decl_adtype (TupleAD (DataOnly DataOnly))) (decl_id x)
      (decl_type (Sized (STuple (SInt SReal)))) (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LTupleProjection (LVariable x) 0) UInt
      ((pattern
        (Indexed
         ((pattern
           (FunApp (CompilerInternal FnReadData)
            (((pattern (Lit Str x.0))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
          (meta ((type_ (UArray UInt)) (loc <opaque>) (adlevel DataOnly))))
         ((Single
           ((pattern (Lit Int 1))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (Assignment (LTupleProjection (LVariable x) 1) UReal
      ((pattern
        (Indexed
         ((pattern
           (FunApp (CompilerInternal FnReadData)
            (((pattern (Lit Str x.1))
              (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly)))))))
          (meta ((type_ (UArray UReal)) (loc <opaque>) (adlevel DataOnly))))
         ((Single
           ((pattern (Lit Int 1))
            (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))))
       (meta ((type_ UReal) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnCheck
        (trans
         (Lower
          ((pattern (Lit Int 0))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
        (var_name x.1)
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var x))
             (meta
              ((type_ (UTuple (UInt UReal))) (loc <opaque>)
               (adlevel (TupleAD (DataOnly DataOnly))))))
            1))
          (meta
           ((type_ UInt) (loc <opaque>)
            (adlevel (TupleAD (DataOnly DataOnly)))))))))
      (((pattern (Lit Int 0))
        (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))
   ((pattern
     (NRFunApp
      (CompilerInternal
       (FnCheck
        (trans
         (Lower
          ((pattern (Lit Int 1))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
        (var_name x.2)
        (var
         ((pattern
           (TupleProjection
            ((pattern (Var x))
             (meta
              ((type_ (UTuple (UInt UReal))) (loc <opaque>)
               (adlevel (TupleAD (DataOnly DataOnly))))))
            2))
          (meta
           ((type_ UReal) (loc <opaque>)
            (adlevel (TupleAD (DataOnly DataOnly)))))))))
      (((pattern (Lit Int 1))
        (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
    (meta <opaque>))))
 (log_prob ())
 (generate_quantities
  (((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern
            (EOr
             ((pattern (Var emit_transformed_parameters__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
             ((pattern (Var emit_generated_quantities__))
              (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))
   ((pattern
     (IfElse
      ((pattern
        (FunApp (StanLib PNot__ FnPlain AoS)
         (((pattern (Var emit_generated_quantities__))
           (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly)))))))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))
      ((pattern (Block (((pattern (Return ())) (meta <opaque>)))))
       (meta <opaque>))
      ()))
    (meta <opaque>))))
 (transform_inits
  (((pattern
     (Decl (decl_adtype DataOnly) (decl_id pos__) (decl_type (Sized SInt))
      (initialize true)))
    (meta <opaque>))
   ((pattern
     (Assignment (LVariable pos__) UInt
      ((pattern (Lit Int 1))
       (meta ((type_ UInt) (loc <opaque>) (adlevel DataOnly))))))
    (meta <opaque>))))
 (output_vars ()) (prog_name tuples_constraints_data_model)
 (prog_path tuples-constraints-data.stan))
